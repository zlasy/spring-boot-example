package com.example.springbootcommon.tools;

import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONObject;
import org.apache.commons.codec.binary.StringUtils;
import org.apache.commons.httpclient.HttpClient;
import org.apache.commons.httpclient.HttpMethod;
import org.apache.commons.httpclient.HttpStatus;
import org.apache.commons.httpclient.URIException;
import org.apache.commons.httpclient.methods.GetMethod;
import org.apache.commons.httpclient.methods.PostMethod;
import org.apache.commons.httpclient.methods.RequestEntity;
import org.apache.commons.httpclient.methods.StringRequestEntity;
import org.apache.commons.httpclient.params.HttpMethodParams;

import java.io.*;
import java.nio.charset.StandardCharsets;
import java.util.*;
import java.util.stream.Collectors;

public class InvokeApi {

    public static void main(String[] args) throws UnsupportedEncodingException {

        callFromFile();
//        closeSessionByRoom();
//        printBytes();
    }

    public static void printBytes() {

        List<Integer> roomMembers = Arrays.asList(4484507,4484516,4484500,4484522,4484531,4484515,4487289,4484508,4484523,4486679,4484524,4484509,4484510,4486711,4486699,4484518,4484532,4486680,4484541,4466197,4468304,4468312,4468313,4468305,4468288,4468287,4468306,4468314,4468289,4468307,4468290,4468321,4468294,4468295,4468322,4468296,4468323,4468297,4468316,4698005,4698013,4697989,4698006,4697997,9109952,9109951,9109939,9109928,9109927,9109940,9109938,9109962,9109961,9109926,6120970,6161695,6163540,9113688,9379135,9113670,9381505,9113678,9378884,9384349,9113658,9113692,9380865,9113691,9113677,9113679,9113693,9113659,9365642,9365618,9385996,6120466,9365647,9365662,9365643,9365671,9365620,9365652,9365645,9365646,9365619,9365635,9365628,9365637,9365630,9365639,9365649,9365636,9365661,9365626,9365638,9365629,9365650,9365640,9365651,9365627,9365648,9365672,9365681,9365663,9365653,9365654,9365673);
        Map<Integer, List<Integer>> roomGroups = new HashMap<>(32);
        roomMembers.forEach(m -> {
            Integer db = (int)(m % 32);
            if (!roomGroups.containsKey(db)){
                roomGroups.put(db, new ArrayList<>());
            }
            roomGroups.get(db).add(m);
        });

//        Map m = roomMembers.stream().collect(Collectors.groupingBy(m -> {
//            return (int) (m % 32);
//        }));

//        System.out.println(roomMembers.stream().map(Long::intValue).collect(Collectors.toList()));
        for (int i = 0; i < 32; i++) {
            StringJoiner sj = new StringJoiner(",");
            roomGroups.get(i).forEach(x -> sj.add(Integer.toString(x)));
            System.out.println("delete from  IM_message" + i + ".message where tenant_id = 1 and room_id in ( " + sj.toString() + " )");
        }
    }


    public static void kfoffline() {
        final String URL = "http://10.7.41.187:8092/connService/offLineStaff?tenantId=1&userId=";
        final String ids = "514934,514947,514941,514944,514221";
        try{
            String[] idList = ids.split(",");
            for (String s : idList) {
                HttpClient client = new HttpClient();
                HttpMethod method = new GetMethod(URL + s);
                method.getParams().setParameter(HttpMethodParams.HTTP_CONTENT_CHARSET, "UTF-8");
                try {
                    client.executeMethod(method);
                    System.out.println(method.getResponseBodyAsString());
                } catch (IOException e) {
                    e.printStackTrace();
                } finally {
                    method.releaseConnection();
                }
            }

        } catch (Exception e){
            e.printStackTrace();
        }
    }


    public static void closeSession(){
        String ids = "11498164";
        String[] list = ids.split(",");
        for (String s : list) {
            closeSessionBySessionId(s);
        }
    }

    private static void closeSessionBySessionId(String sessionId) {
        String closeSessionUrl = "http://10.7.41.186:8092/sessionService/closeSession?tenantId=1&connId=0&sessionId=%s&overType=5&message=clear";
        HttpClient client = new HttpClient();
        HttpMethod method = new GetMethod(String.format(closeSessionUrl, sessionId));
        method.getParams().setParameter(HttpMethodParams.HTTP_CONTENT_CHARSET, "UTF-8");
        try {
            client.executeMethod(method);
            System.out.println(method.getResponseBodyAsString());
        } catch (IOException e) {
            e.printStackTrace();
        } finally {
            method.releaseConnection();
        }
    }


    public static void closeSessionByRoom(){
        String getRoomUrl = "http://10.7.41.187:8092/sessionService/querySessionInfo?tenantId=1&roomId=%s";
        String roomIds = "9398750,9586805,9397536,9430282,9397877,9419282,9397567,9430608,9459477,9397537,9398676,9429075,9397529,9398574,9397895,9398502,9397561,9429441,9429205,9398770,9397574,9429598,9397970,9398724,9397541,9398522,9429445,9429391,9397551,9419313,9429076,9428258,9397543,9430199,9397552,9429361,9429412,9429419,9397544,9397858,9429522,9429242,9397553,9429543,9428201,9429461,9397572,9429536,9398560,9429400,9397563,9429507,9429503,9429414,9397557,9429866,9459140,9398555,9397550,9429888,9429418,9429181,9397539,9429436,9429524,9429606,9398523,9397562,9428257,9430674,9459513,9429867,9430555,9397559,9398519,9586809,9418421,9429355,9398336,9398858,9429470,9429898,9398515,9397846,9398346,9397548,9398557,9429134,9459328,9398347,9398664,9430417,9397854,9429448,9429915,9398351,9429171,9428196,9398518,9459645,9398344,9398730,9459249,9429352,9429492,9398352,9398517,9429899,9428267,9429147,9429415,9398343,9398514,9459147,9398687,9430464,9398345,9418414,9586789,9418416,9418405,9397546,9398319,9398499,9418404,9418403,9379136,9379109,9379110,9379151,9379137,9395884,9395867,9395879,9395896,9395885,9395903,9395893,9395921,9395875,9395876,9395925,9395902,9395870,9395878,9395899,9395886,9395923,9395873,9395860,9395868,9395890,9395874,9395881,9395898,9395892,9395888,9395887,9395869,9395864,9395872,9395865,9395894,9395904,9395901,9395859,9395882,9395866,9395891,9395883,9395880,9395926,9395900,9395897,9395877,9395889,9395911,9395922,9395895,9395912,9395913,9395905,9395907,9395924,9395914,9395931,9395906,9395928,9395908,9395932,9395916,9395927,9395930,9395976,9395934,9395915,9395929,9395909,9395977,9395941,9395948,9395933,9395910,9395951,9395920,9395952,9395939,9395917,9395995,9395919,9395943,9395975,9395992,9395958,9395940,9395996,9395936,9395965,9395973,9395983,9395938,9396001,9395947,9395963,9395971,9395980,9395997,9395998,9396005,9396011,9395999,9396000,9396026,9396007,9396013,9396015,9396028,9396025,9396014,9396024,9396021,9396006,9396022,9396023,9396027,9395988,9395989,9396029,9396018,9396019,9396020,9396041,9396030,9396016,9395990,9396044,9396017,9396032,9396034,9396051,9396043,9396062,9396063,9396036,9396064,9396037,9396045,9396056,9396057,9396059,9396038,9396065,9396060,9396066,9396067,9396039,9396040,9396071,9396048,9396072,9396050,9396082,9396080,9396074,9396079,9396070,9396083,9396069,9396049,9396091,9396086,9396076,9396087,9396101,9396111,9396096,9396088,9396093,9396095,9396094,9396089,9396132,9396107,9396090,9396109,9396123,9396100,9396142,9396121,9396097,9396098,9396131,9396141,9396125,9396133,9396144,9396145,9396146,9396147,9396149,9396134,9396114,9396116,9396128,9396126,9396135,9396120,9396153,9396163,9396155,9396154,9396161,9396162,9396118,9396119,9396164,9396171,9396156,9396165,9396157,9396181,9396166,9396167,9396183,9396184,9396169,9396185,9396174,9396179,9396188,9396203,9396194,9396201,9396180,9396211,9396190,9396205,9396170,9396221,9396191,9396193,9396206,9396207,9396215,9396216,9396208,9396217,9396233,9396223,9396234,9396196,9396236,9396226,9396237,9396228,9396238,9396199,9396239,9396230,9396200,9396240,9396252,9396242,9396261,9396244,9396253,9396258,9396245,9396254,9396247,9396265,9396248,9396246,9396256,9396257,9396264,9396249,9396273,9396250,9396282,9396270,9396291,9396284,9396274,9396269,9396272,9396302,9396304,9396301,9396293,9396288,9396276,9396306,9396287,9396295,9396294,9396296,9396297,9396308,9396280,9396290,9396311,9396312,9396299,9396300,9396314,9396317,9396327,9396345,9396346,9396335,9396330,9396328,9396318,9396351,9396352,9396347,9396348,9396336,9396319,9396337,9396338,9396339,9396353,9396362,9396349,9396350,9396354,9396357,9396359,9396381,9396392,9396372,9396382,9396373,9396383,9396384,9417309,9398733,9417206,9406897,9406318,9398059,9406906,9417778,9429803,9398790,9406898,9398776,9398066,9417721,9398046,9430038,9417339,9398060,9406908,9398047,9429776,9398082,9406899,9398081,9429253,9398048,9406319,9398075,9417795,9398049,9429160,9398083,9396365,9396399,9430095,9396401,9396367,9398076,9429176,9396405,9429169,9396374,9429178,9396375,9406309,9396387,9398742,9396412,9429282,9396414,9417509,9396385,9430040,9396421,9429146,9396378,9417459,9396422,9396403,9417694,9396388,9398078,9430102,9396406,9396386,9398077,9430088,9396423,9406909,9396380,9417780,9396431,9429177,9396424,9398417,9396442,9430061,9396461,9406914,9396418,9398815,9396389,9417524,9396440,9430169,9396426,9430089,9396390,9406915,9396433,9429150,9396434,9430039,9396429,9459178,9396441,9430194,9396435,9406916,9396444,9430343,9396445,9398749,9396447,9417722,9396471,9429189,9396462,9406910,9396449,9417460,9396455,9430225,9396465,9430044,9396472,9430045,9396483,9430230,9396473,9430312,9396474,9417723,9396495,9398681,9396496,9430602,9396494,9406326,9396492,9430168,9396491,9429670,9396477,9459026,9396456,9398700,9396480,9398451,9396478,9417713,9396487,9430043,9396485,9406900,9396486,9459132,9396475,9397771,9396501,9398948,9396499,9406917,9396500,9459196,9396513,9417714,9396502,9430336,9396521,9586854,9396515,9429638,9396532,9406931,9396523,9430087,9396516,9398846,9396536,9396543,9398096,9429188,9396537,9429154,9396539,9429148,9396545,9398905,9396546,9429243,9396529,9429119,9396544,9417707,9396538,9397700,9396530,9406941,9396551,9398785,9396540,9417343,9396561,9406341,9396547,9398454,9396549,9429540,9396562,9429697,9396548,9406943,9396508,9429232,9396572,9398869,9396567,9429228,9396553,9429265,9396563,9406925,9396581,9430071,9396510,9459217,9396573,9429186,9396582,9430424,9396574,9406919,9396584,9459466,9396576,9417351,9396555,9430103,9396577,9430064,9396587,9398469,9396579,9398685,9396588,9430518,9396558,9429422,9396591,9429270,9396590,9429550,9396560,9429234,9396612,9417801,9396613,9430434,9396580,9430253,9396614,9398108,9396598,9398714,9396601,9430287,9396604,9429224,9396611,9417344,9396622,9417431,9396615,9429201,9396603,9430477,9396596,9430263,9396606,9459155,9396607,9430076,9396608,9398437,9396620,9430077,9396631,9459014,9396609,9430054,9396628,9398695,9396632,9430306,9396630,9459013,9396651,9406351,9396643,9459022,9396652,9398119,9396661,9417345,9396653,9459200,9396635,9430217,9396663,9417695,9459204,9396664,9396655,9417446,9396647,9430104,9396666,9430182,9396659,9430418,9396660,9406352,9430105,9398131,9430541,9459039,9397768,9398124,9398826,9430180,9398110,9417716,9397901,9398098,9459220,9430297,9398125,9398751,9397750,9398126,9417207,9586888,9398120,9398483,9397968,9398134,9398766,9430531,9398127,9430156,9397762,9398133,9396667,9417708,9398135,9398734,9397788,9396668,9429535,9396650,9398141,9429742,9406342,9396681,9397734,9429423,9396672,9429726,9398142,9396682,9417221,9397793,9396675,9398817,9429590,9396693,9429510,9429651,9396685,9429705,9397811,9396689,9398752,9429508,9398100,9396684,9417709,9396673,9397730,9396669,9398136,9398674,9396687,9417222,9396703,9430616,9397786,9430600,9417169,9396688,9398678,9396690,9398128,9429213,9397779,9396721,9430272,9417790,9396713,9398735,9417223,9396707,9397765,9429200,9396697,9459574,9417208,9396712,9459559,9398784,9396700,9430154,9417224,9396705,9459161,9430399,9396710,9398443,9397862,9396699,9398462,9459020,9396695,9430299,9417225,9396722,9397761,9459018,9430358,9398906,9398780,9430558,9430495,9398713,9398507,9586830,9406337,9429192,9429681,9459176,9459136,9397850,9397824,9417170,9417479,9430527,9430234,9429251,9396736,9429195,9397748,9396729,9430329,9430223,9396728,9430327,9398842,9396737,9398457,9430348,9396738,9417802,9429226,9396739,9406338,9430575,9396718,9429630,9429676,9396717,9459668,9417209,9396743,9459584,9397777,9396751,9417352,9398503,9396740,9429276,9429302,9396761,9429216,9429215,9396752,9398444,9429214,9396762,9430569,9429203,9396719,9429644,9398690,9396744,9429316,9429261,9396745,9429263,9398459,9396757,9429257,9430520,9396754,9397743,9429273,9396755,9398473,9429292,9396764,9429246,9396746,9397825,9396766,9398512,9396760,9397778,9396782,9417710,9396786,9459357,9396747,9429650,9396791,9429730,9396795,9417811,9396774,9397745,9396769,9459091,9396790,9459592,9396785,9417432,9396801,9459440,9396768,9586808,9396793,9398455,9396748,9406353,9396794,9417327,9396796,9430461,9396749,9459172,9396776,9459481,9396822,9398173,9398922,9417696,9397840,9417424,9396777,9396813,9417231,9459154,9396806,9398456,9429718,9396833,9398812,9417210,9396803,9430561,9398465,9396807,9429812,9406328,9396780,9430445,9430257,9396808,9398888,9417328,9396814,9417232,9430254,9396821,9397848,9459307,9396834,9417241,9398806,9396818,9417821,9398445,9396816,9417724,9429717,9396841,9417354,9429663,9396835,9429677,9429771,9396810,9398721,9406354,9396849,9398631,9429652,9396846,9417227,9398794,9396865,9429775,9398516,9396842,9430449,9417233,9396820,9429736,9429805,9396838,9429660,9398680,9396843,9398924,9406361,9396851,9397751,9459616,9396827,9417228,9417329,9396906,9397782,9398531,9396837,9429734,9417213,9396847,9417480,9406362,9396884,9430164,9417242,9396877,9430181,9430491,9396856,9397841,9429700,9396854,9430284,9429646,9396873,9398458,9397826,9396840,9397893,9398493,9396881,9429713,9430320,9396850,9429655,9417214,9396879,9429407,9417448,9396903,9429622,9406355,9396853,9429755,9398710,9396908,9429774,9398175,9396855,9397773,9417798,9396874,9417356,9429534,9396858,9430568,9406356,9396868,9459190,9459144,9396880,9459139,9459241,9396894,9417215,9430357,9396870,9397728,9430433,9396916,9430437,9406363,9396892,9459478,9429255,9396893,9398525,9429325,9396925,9429239,9417243,9396913,9429266,9429291,9396899,9429240,9417355,9396898,9417216,9417441,9396904,9417510,9397842,9396917,9398506,9429258,9396915,9429249,9417717,9396910,9429341,9429262,9429269,9397903,9417229,9429279,9429277,9429284,9429294,9429295,9417697,9397867,9398484,9429238,9429268,9429272,9429278,9429244,9429267,9429310,9417217,9397844,9417449,9429293,9417235,9429356,9429303,9417803,9429333,9429301,9397754,9429322,9429347,9429334,9429338,9417426,9417244,9417357,9459072,9397812,9417698,9429337,9429362,9430473,9417218,9459070,9459484,9398550,9397794,9586800,9417481,9430500,9430723,9459242,9417330,9417489,9430228,9397800,9417427,9430484,9417699,9398489,9396944,9430177,9430513,9430590,9396951,9430667,9430207,9396983,9398482,9586848,9417361,9459508,9396932,9397775,9586851,9396933,9398182,9459170,9430266,9396974,9459633,9430592,9396952,9417718,9398192,9459331,9406344,9430220,9396934,9586825,9459261,9396945,9398169,9430515,9417219,9398802,9396935,9430419,9417719,9398448,9396953,9397822,9417253,9417483,9396947,9417347,9430411,9396936,9459498,9417220,9586849,9396946,9417700,9586810,9430635,9396958,9417531,9417236,9459029,9396928,9430296,9459088,9459614,9396929,9430208,9398530,9430627,9396965,9430572,9430201,9417502,9396963,9430598,9417261,9459286,9396960,9406357,9430236,9398183,9396959,9417262,9398193,9396938,9398786,9459065,9396981,9459115,9459067,9396940,9417396,9430191,9396939,9430430,9406330,9396967,9398763,9417245,9396966,9417450,9417362,9396930,9459271,9459470,9396962,9417237,9459632,9396961,9398740,9417428,9396949,9406365,9459060,9396991,9429340,9397046,9398185,9429328,9417371,9396985,9398920,9417263,9396986,9429811,9429363,9396988,9429357,9417501,9396987,9429260,9417813,9396976,9398821,9429342,9397001,9429339,9417264,9397002,9417433,9459486,9396990,9459166,9417720,9429370,9396977,9459527,9459238,9397012,9417372,9430452,9396978,9417732,9459082,9417503,9396979,9430242,9397904,9586861,9397025,9459678,9417397,9430565,9397035,9430166,9430238,9397821,9397013,9459341,9406345,9397021,9429271,9459133,9459564,9397032,9429344,9429404,9398801,9397000,9417511,9429248,9459210,9396998,9397905,9417434,9430317,9397072,9430439,9417359,9397033,9459237,9397823,9430538,9397022,9429330,9417265,9417814,9397014,9459118,9586864,9397932,9397016,9459256,9406371,9459548,9397037,9586776,9417398,9397026,9398788,9459509,9459521,9397030,9430158,9459028,9430273,9397045,9397883,9417799,9397019,9406372,9430517,9397062,9398796,9417741,9397052,9397990,9430326,9397048,9430601,9417435,9397071,9429245,9397047,9397919,9430249,9397064,9430328,9459480,9397044,9417804,9459212,9397028,9397835,9406358,9397053,9429343,9398861,9397055,9429285,9430496,9397056,9397876,9417399,9397074,9429699,9429656,9397075,9429576,9398768,9397076,9397897,9406366,9397069,9429616,9459610,9397113,9398213,9429286,9397050,9398498,9429702,9397092,9429707,9429499,9397060,9429633,9417430,9397100,9397091,9459631,9406373,9429281,9398187,9398562,9398727,9397082,9397813,9417504,9430587,9397079,9429331,9429752,9429368,9397101,9397807,9398505,9429637,9397094,9406347,9417442,9429520,9397066,9397808,9429353,9398566,9397083,9459637,9586787,9397098,9459116,9430293,9459061,9397108,9417751,9417512,9586797,9397095,9586782,9398792,9430534,9397102,9398539,9417381,9459291,9397088,9459571,9417255,9459342,9397105,9397916,9397988,9430315,9397068,9430702,9398592,9406348,9397087,9430400,9429793,9430271,9397111,9417513,9397909,9397084,9429450,9429551,9417728,9397122,9429332,9429741,9429335,9429371,9417256,9398033,9429395,9398793,9429318,9417348,9429327,9397959,9430670,9397809,9417743,9398887,9429714,9398609,9429346,9429274,9429304,9459600,9398510,9397934,9398496,9429250,9417382,9429323,9429545,9397865,9459097,9398825,9459676,9417733,9430288,9397868,9430185,9430429,9459524,9398819,9429365,9397922,9429247,9397126,9429336,9417364,9429324,9397127,9417238,9429787,9398217,9397117,9429695,9397962,9429665,9397134,9429567,9417257,9429645,9397129,9429683,9398932,9398036,9397128,9429669,9397937,9417239,9397130,9429684,9586852,9429763,9397150,9429636,9429421,9417266,9397137,9429399,9397925,9586862,9397119,9417383,9417815,9397182,9459095,9398224,9397181,9430714,9398035,9398915,9397120,9417246,9430331,9397140,9459201,9430371,9417349,9398219,9459613,9398002,9397149,9397136,9459230,9398736,9430410,9397161,9397898,9398572,9430216,9397171,9586832,9417437,9397152,9417373,9459048,9397151,9459248,9459054,9459349,9397145,9430504,9417729,9397147,9398229,9397957,9397156,9430540,9459083,9397164,9430646,9417365,9397163,9459120,9397851,9397174,9398929,9586758,9397177,9459124,9430363,9397184,9459588,9397926,9397166,9430478,9397185,9398244,9417384,9397186,9398245,9397981,9397158,9406374,9398232,9430731,9417436,9430197,9398227,9397880,9430404,9586814,9398243,9459565,9417385,9430354,9398241,9397906,9459288,9398233,9459245,9406349,9459138,9398226,9459364,9398548,9397912,9397918,9586932,9417400,9398892,9397160,9586829,9430436,9459361,9398234,9430267,9459121,9397830,9397187,9417514,9406350,9397192,9398220,9398527,9459180,9586856,9397176,9429608,9417374,9459063,9397189,9430160,9397879,9398247,9397193,9459281,9430643,9398248,9397233,9397953,9398537,9397197,9429571,9430548,9397169,9430595,9417515,9430624,9397958,9397201,9430606,9429546,9397194,9417438,9430393,9398791,9397985,9406359,9397211,9429777,9430725,9417386,9397214,9398236,9429753,9397940,9429729,9397223,9430211,9417816,9429561,9397204,9398252,9397891,9417451,9459195,9397810,9397206,9398822,9430583,9397202,9398235,9429642,9430278,9459146,9459491,9397207,9430285,9429748,9398814,9397949,9397218,9429737,9429779,9398835,9417350,9397215,9429781,9417461,9397900,9429408,9397258,9417745,9429671,9429626,9398533,9397217,9429563,9429733,9429783,9429724,9397232,9429757,9397991,9417391,9417761,9397208,9429619,9398534,9429747,9398021,9397226,9417443,9429673,9429727,9398799,9397220,9397992,9417734,9429675,9417271,9397235,9398578,9417375,9397920,9429790,9397227,9398849,9429723,9429691,9397978,9397241,9398575,9429659,9398261,9397236,9417452,9417387,9397941,9397237,9429801,9417247,9429743,9397229,9398561,9397947,9429750,9397247,9429791,9429751,9417762,9397228,9397950,9429640,9586768,9397260,9430414,9430337,9430641,9397253,9417453,9417258,9397238,9430474,9397971,9397261,9586802,9417735,9398852,9397262,9459586,9397915,9459371,9397254,9430416,9430488,9397250,9398271,9397972,9398800,9459487,9397249,9417439,9459531,9459096,9397245,9417753,9398903,9417259,9397272,9430634,9397872,9397281,9398946,9406375,9430390,9397279,9417249,9398001,9459080,9397276,9459259,9417260,9430459,9397277,9397924,9429528,9586775,9397230,9430294,9430659,9398543,9397888,9397417,9398804,9417376,9406380,9417250,9397264,9397948,9430683,9430594,9398605,9397266,9397983,9417267,9397286,9417817,9459189,9586761,9398927,9397289,9417366,9397976,9417268,9459576,9397304,9459247,9398824,9459206,9397280,9586863,9430596,9417281,9459225,9397284,9398273,9398907,9417454,9397287,9430370,9430501,9417291,9459283,9397291,9398881,9406376,9459177,9397982,9397270,9430585,9459575,9417282,9398595,9397306,9397301,9429802,9397859,9417367,9398240,9429680,9429784,9417283,9398813,9397315,9430593,9397994,9429749,9406377,9397342,9398783,9429786,9417269,9429589,9397331,9397874,9429548,9417368,9429627,9397295,9429668,9429599,9417270,9398603,9397322,9429564,9417455,9429639,9429770,9397297,9406391,9429725,9429712,9397885,9586923,9429666,9398544,9429782,9429710,9429769,9429678,9417748,9397987,9429739,9417273,9430259,9429621,9429708,9459489,9430415,9397944,9398621,9398803,9459581,9417293,9430628,9430494,9406392,9397984,9417755,9397871,9459580,9459157,9398925,9397946,9586757,9398547,9459540,9417505,9459510,9459541,9397334,9430361,9459188,9417294,9397336,9430640,9397310,9406401,9459123,9430193,9398287,9459130,9397995,9398616,9397309,9398746,9459046,9459554,9397337,9459181,9397929,9459287,9586873,9397343,9417484,9417749,9398971,9397391,9397997,9459312,9430521,9398599,9397335,9417295,9430298,9430508,9397954,9397340,9430372,9397993,9430711,9430359,9397329,9459617,9417274,9459468,9398554,9397351,9430286,9398771,9406381,9459066,9397327,9586764,9459149,9417301,9459620,9397352,9430450,9430214,9430382,9398877,9397339,9459622,9417756,9430443,9417296,9397326,9430553,9417369,9430682,9430528,9397338,9406393,9430431,9398809,9430712,9397361,9459479,9459692,9417492,9397354,9417736,9459252,9459572,9586841,9397381,9417388,9459356,9397371,9459025,9459646,9430605,9406378,9397376,9459016,9459537,9586815,9397344,9586934,9459224,9430633,9397372,9459552,9417370,9586778,9397395,9417506,9417737,9430307,9397357,9430256,9430279,9430380,9397346,9430716,9459165,9397364,9417472,9586928,9397348,9417401,9586806,9459209,9397368,9459114,9397365,9586918,9459103,9397350,9459290,9417738,9586781,9397360,9430468,9397374,9430195,9417473,9459671,9397386,9417275,9459277,9429533,9397369,9430333,9459355,9459488,9397384,9430462,9459643,9397401,9398810,9459239,9417402,9397375,9586913,9417284,9398297,9397405,9459079,9417456,9397506,9459336,9430200,9459292,9398311,9586803,9459650,9459672,9397349,9397383,9417297,9398558,9430567,9397436,9430403,9417763,9430274,9459325,9398851,9397397,9459665,9397914,9430564,9417517,9397403,9430607,9430502,9430669,9417403,9397435,9459506,9417298,9398007,9586772,9397380,9459308,9417757,9459264,9459485,9397400,9586866,9398023,9417299,9398563,9397404,9429721,9586807,9417404,9406382,9397431,9429658,9429509,9398016,9417302,9397406,9429529,9429437,9417750,9429746,9397446,9429620,9398022,9398528,9429744,9397450,9459561,9417405,9429526,9429647,9397408,9429557,9397974,9406367,9429788,9397421,9459589,9459350,9586924,9417758,9397410,9397969,9417516,9398581,9430542,9397423,9417389,9417300,9429618,9459041,9397433,9459503,9429544,9397936,9586846,9397424,9586799,9417285,9398323,9397437,9459701,9397952,9398600,9430432,9397426,9459084,9430367,9417311,9397451,9398298,9417485,9459128,9397439,9459577,9459629,9397452,9459258,9417278,9430499,9397416,9430345,9397938,9397415,9430283,9406368,9397447,9417279,9429689,9429648,9397465,9398325,9459545,9417759,9397418,9398306,9459226,9397419,9398564,9397975,9430205,9397483,9459059,9459514,9430466,9397420,9398326,9417760,9417303,9397977,9430713,9398312,9429715,9429780,9398625,9430625,9398308,9417406,9430559,9398024,9430407,9398307,9417739,9398643,9398567,9398327,9430423,9430650,9397980,9586791,9398309,9430440,9397963,9398004,9398313,9397448,9459596,9429661,9586816,9398314,9459099,9417286,9459674,9398529,9397428,9430530,9586834,9397455,9398341,9417740,9417518,9417304,9397504,9429698,9398593,9429804,9429615,9397430,9429772,9429516,9398003,9398329,9397477,9417287,9398627,9398570,9398331,9397463,9429693,9398606,9417407,9429696,9397479,9417486,9429565,9398034,9459316,9397456,9429694,9586759,9459502,9429789,9397998,9397476,9459214,9398908,9397960,9417280,9397471,9398668,9459119,9430597,9397513,9398000,9459109,9417288,9397490,9398310,9459606,9397964,9429617,9398830,9397467,9387101,9387080,9387111,9387070,9387087,9387102,9387112,9387103,9387088,9387093,9387089,9387113,9387104,9387090,9387094,9387114,9387121,9387105,9387123,9387106,9391001,9390989,9390992,9391011,9391012,9391002,9390968,9390990,9390969,9390993,9390994,9391013,9390995,9391028,9390970,9391015,9391021,9391004,9391017,9391003,9391026,9391022,9391019,9391005,9391008,9391020,9391009,9391023,9391027,9391006,9391024,9391025,9391016,9391014,9391007,9391018,9390996,9390997,9391029,9390998,9391031,9390999,9391033,9391043,9391010,9391032,9391045,9391034,9391000,9391053,9391030,9391044,9391041,9391054,9391047,9391071,9391065,9391061,9391056,9391038,9391051,9391052,9391062,9391046,9391035,9391048,9391036,9391037,9391057,9391055,9391039,9391040,9391042,9391063,9391064,9391049,9391058,9391072,9391050,9391059,9391073,9391066,9391092,9391074,9391081,9391060,9391075,9391091,9391076,9391082,9391083,9391093,9391067,9391077,9391084,9391078,9391079,9391068,9391085,9391088,9391095,9391069,9391116,9391113,9391105,9391087,9391112,9391104,9391080,9391086,9391117,9391097,9391070,9391101,9391111,9391102,9391106,9391094,9391098,9391103,9391115,9391114,9391096,9391107,9391089,9391118,9391108,9391090,9391121,9391141,9391119,9391120,9391122,9391145,9391126,9391110,9391125,9391135,9391099,9391133,9391156,9391143,9391109,9391124,9391152,9391151,9391132,9391123,9391142,9391131,9391127,9391128,9391100,9391134,9391144,9391154,9391153,9391136,9391147,9391146,9391155,9391148,9391149,9391137,9391161,9391129,9391138,9391157,9391158,9391130,9391139,9391150,9391171,9391172,9391159,9391163,9391164,9391165,9391173,9391166,9391692,9392600,9393010,9391669,9393174,9392114,9391685,9392599,9397973,9391687,9392633,9391686,9392618,9393614,9391693,9393241,9392896,9391701,9393021,9393624,9391702,9392850,9392098,9391694,9393204,9392641,9391695,9398602,9391696,9393625,9391697,9393632,9398013,9391688,9417444,9430342,9391703,9392643,9392760,9391670,9392041,9392634,9391704,9392282,9459112,9391711,9392851,9392227,9392891,9391705,9398910,9392336,9393164,9391698,9393642,9392025,9392781,9391706,9392110,9398856,9393634,9391712,9392642,9392626,9392644,9391713,9397928,9391915,9398935,9391707,9392026,9392881,9393751,9391714,9392903,9393175,9392099,9391716,9429379,9392753,9391926,9391715,9429762,9429664,9392689,9391708,9393274,9392718,9392396,9391689,9430507,9391927,9430603,9392214,9392121,9393807,9392275,9392700,9429388,9392027,9393088,9393263,9391908,9429653,9398318,9392300,9397979,9393685,9392719,9393126,9392352,9392090,9398632,9391710,9392042,9429731,9392235,9391700,9392897,9393615,9392980,9391722,9393016,9392883,9391916,9391717,9392752,9392635,9392786,9391721,9393644,9392619,9392703,9391718,9391941,9392191,9391719,9392720,9392236,9392330,9391720,9393767,9393645,9392636,9391731,9391910,9392645,9392122,9391732,9392274,9392620,9393758,9391733,9393616,9393089,9392870,9391741,9392651,9393706,9391734,9392314,9392210,9392787,9391751,9392628,9392131,9392637,9391752,9392337,9393635,9398005,9391735,9393724,9393106,9392043,9391742,9393168,9391917,9393292,9391723,9392397,9393627,9429378,9391753,9392228,9393733,9429397,9392316,9391736,9391918,9392807,9397542,9393238,9391743,9393031,9393156,9392353,9392904,9391737,9391942,9392132,9392283,9393190,9391738,9392833,9392888,9393752,9391744,9393254,9391943,9398965,9392192,9391745,9393176,9397540,9392323,9417411,9391739,9392133,9393748,9391919,9393239,9391724,9393787,9392354,9392284,9392905,9391740,9393096,9429539,9393107,9391920,9391746,9393150,9392769,9429785,9392100,9391754,9392186,9392378,9393735,9393090,9391933,9392317,9397564,9392834,9398012,9392033,9429732,9392778,9392285,9429387,9417782,9391944,9393271,9398634,9392123,9393185,9393797,9392166,9393740,9397554,9392053,9393101,9391951,9392835,9392638,9397547,9391755,9429740,9393647,9392379,9392318,9391756,9393165,9392135,9391928,9392034,9391726,9392167,9392237,9392652,9391748,9392355,9393259,9392906,9392653,9392824,9391749,9392889,9586865,9393247,9392044,9391761,9392134,9417392,9393753,9391757,9392722,9392168,9391945,9392630,9391750,9392661,9392238,9392647,9397996,9391762,9392046,9429411,9393783,9393102,9391758,9392141,9393264,9392356,9393617,9391727,9397569,9393686,9393042,9392187,9391728,9397558,9391934,9393788,9391729,9429720,9392229,9459127,9392260,9391759,9392124,9392910,9459534,9393024,9391760,9392890,9393159,9392045,9392761,9391781,9392815,9397566,9392339,9430618,9391782,9392920,9391929,9429643,9392251,9391783,9392823,9397581,9393235,9393118,9391763,9398353,9397565,9430560,9391935,9391730,9392193,9393270,9417783,9398015,9459300,9391765,9430313,9392115,9459233,9391930,9398354,9391772,9398006,9392240,9459150,9392723,9393784,9391784,9392704,9393079,9391946,9393695,9391785,9393119,9392054,9392142,9393066,9398859,9391791,9393033,9417408,9391936,9398017,9392654,9391786,9392239,9417290,9393169,9392662,9392047,9391773,9392808,9392924,9393025,9392144,9392649,9391774,9586917,9393628,9417331,9417412,9391775,9393648,9392740,9392925,9392055,9391787,9392241,9393221,9393160,9392194,9392145,9397568,9459182,9393135,9398913,9459207,9393707,9392754,9392358,9392057,9459601,9417332,9397571,9429686,9393198,9398897,9417474,9429778,9393170,9392169,9392836,9398841,9417784,9393128,9392056,9392671,9392384,9586939,9429758,9392928,9393636,9393240,9391766,9392655,9429719,9392361,9397573,9392656,9391776,9392657,9392035,9393696,9393080,9398348,9391767,9393629,9417409,9417773,9391937,9393043,9391777,9429794,9393668,9393026,9429756,9391768,9393103,9393301,9391952,9392179,9391792,9393698,9392917,9586824,9392659,9391769,9392362,9393067,9391940,9393219,9392873,9391793,9459183,9429685,9398931,9429679,9391794,9392276,9429600,9392201,9429485,9391939,9391770,9429635,9417413,9417323,9393825,9391778,9392399,9429709,9393802,9393068,9391961,9393027,9391788,9392907,9393234,9393191,9392865,9391779,9392788,9586897,9392267,9392180,9392731,9391795,9459221,9586777,9430644,9391796,9398891,9393111,9429396,9393780,9391971,9391797,9392385,9430681,9393750,9392884,9391789,9393166,9392139,9417393,9392291,9391972,9391780,9398890,9398589,9393725,9429687,9391790,9429766,9417324,9392755,9391947,9392672,9391801,9392138,9392306,9392029,9393220,9392195,9393044,9391811,9392929,9429764,9391962,9392400,9398611,9392292,9391821,9398349,9392771,9393638,9429761,9392058,9429588,9391804,9391974,9393639,9392856,9430526,9392789,9392188,9391803,9393620,9392307,9393229,9429581,9398579,9391963,9391812,9393709,9393742,9392770,9392252,9392148,9393649,9391805,9392931,9393104,9391953,9459560,9393651,9393793,9391822,9393236,9392048,9392772,9393650,9392320,9397582,9391823,9391954,9393142,9392126,9393759,9459187,9392215,9391798,9397576,9392277,9393137,9392049,9393035,9391948,9391799,9392189,9393275,9398675,9429760,9392380,9417315,9392149,9392706,9393726,9391975,9430426,9392059,9392892,9392242,9393224,9392319,9392293,9393762,9392816,9393112,9391956,9393138,9393727,9392150,9393652,9392036,9397575,9393669,9393831,9393653,9391950,9392401,9393761,9392796,9393728,9392230,9397579,9392060,9391806,9392885,9391949,9417520,9417317,9393045,9393640,9391825,9392797,9417774,9393729,9393719,9398361,9393120,9391807,9391964,9393186,9393826,9392791,9392127,9392216,9391813,9429767,9392941,9393276,9393225,9393029,9391808,9391965,9393036,9392757,9392061,9393670,9398320,9429688,9391826,9392783,9417379,9392140,9393779,9393037,9391827,9392898,9392707,9392371,9397603,9392037,9393038,9391809,9398340,9392294,9392874,9392713,9391957,9391814,9392411,9392116,9393141,9393046,9397583,9393097,9391810,9392050,9417467,9393720,9391966,9392218,9393028,9391828,9393177,9429672,9430639,9392732,9392117,9391841,9398902,9392062,9391967,9392324,9391815,9393760,9586938,9397591,9392930,9392369,9392660,9391842,9392724,9392253,9393687,9391958,9392038,9393051,9391832,9393052,9392708,9393654,9391829,9392372,9392866,9391960,9392714,9393144,9391816,9392341,9392152,9398945,9392845,9392217,9393302,9391833,9393661,9391959,9397585,9459272,9417521,9393130,9391830,9392039,9392762,9393030,9392268,9398686,9392875,9393070,9391851,9430392,9392340,9393813,9393763,9392825,9392951,9392219,9391834,9393129,9392072,9393098,9398894,9391976,9392681,9397590,9391852,9392402,9392151,9417507,9393662,9393754,9392295,9391843,9392852,9392063,9393222,9393260,9393048,9393798,9392243,9391844,9392857,9392682,9392308,9393201,9393179,9392128,9429607,9391853,9392837,9392073,9393775,9393785,9392650,9398702,9393053,9391854,9392286,9393226,9393822,9429625,9392674,9392261,9393180,9391835,9392161,9392074,9393151,9392359,9392911,9392197,9393655,9391855,9393770,9398371,9417767,9417410,9392838,9393049,9391845,9459333,9392269,9392076,9392244,9392683,9430724,9391856,9430514,9393202,9393790,9392190,9393781,9398705,9393152,9586842,9392363,9392309,9392763,9397623,9392075,9398682,9393205,9392162,9392853,9393242,9392886,9391969,9392245,9392287,9392211,9392912,9398374,9392821,9459174,9393799,9393153,9392040,9429690,9393701,9391982,9393145,9393743,9392118,9392325,9392826,9392360,9429792,9393710,9586785,9459642,9391981,9392064,9392296,9459683,9393055,9391857,9417306,9393764,9392129,9392779,9393814,9393039,9391991,9391836,9398381,9393206,9392081,9393192,9392342,9417334,9391817,9392212,9392254,9392734,9391970,9393227,9392278,9398638,9391818,9393791,9392828,9430394,9392091,9429634,9393061,9391837,9391980,9393818,9393193,9392913,9586821,9392198,9392684,9391838,9392343,9392246,9417318,9392119,9391983,9392065,9391859,9392279,9392373,9397631,9397618,9429745,9429716,9392685,9391819,9392725,9393679,9391992,9393821,9393181,9392202,9417417,9391858,9392792,9429657,9392220,9429768,9392326,9392735,9391839,9391979,9393786,9586847,9392280,9393657,9397635,9393071,9393121,9391820,9392092,9393680,9393671,9392001,9392154,9429552,9392921,9391846,9393658,9417785,9392262,9393108,9393823,9393688,9391860,9393659,9392066,9391993,9459520,9429674,9392877,9393211,9391861,9392289,9392153,9392817,9397641,9393265,9392370,9392381,9391840,9397637,9417326,9392271,9393805,9392829,9392691,9430349,9391871,9430647,9392663,9392665,9392011,9392130,9392780,9393040,9391862,9392203,9393711,9393251,9392288,9398857,9430458,9393272,9391881,9391984,9392664,9392374,9392412,9459662,9392263,9430539,9391882,9393146,9392120,9393660,9586860,9391995,9392199,9391847,9393699,9392692,9393664,9393243,9392310,9392301,9392675,9392715,9391863,9392012,9393681,9392256,9392171,9397723,9392391,9392737,9391848,9392222,9429530,9392403,9392716,9391985,9429701,9393262,9393062,9391864,9397619,9429549,9393122,9393832,9392858,9392302,9392332,9392013,9391883,9393700,9392264,9393199,9392204,9393058,9398407,9392736,9393100,9391872,9429566,9392392,9392922,9392002,9392387,9393672,9392932,9393081,9391849,9397688,9393819,9393109,9393207,9392878,9392297,9392077,9393073,9391884,9392861,9398928,9429711,9429624,9429722,9429706,9392710,9429738,9391885,9392867,9392393,9393267,9392908,9392003,9392082,9393194,9392726,9391886,9392799,9392413,9397638,9392205,9429703,9392247,9586795,9392862,9391865,9391986,9392333,9393110,9417319,9392078,9430579,9398911,9397643,9417394,9429692,9393702,9392894,9393123,9392014,9393195,9392223,9430373,9417320,9398918,9392773,9392069,9392257,9392303,9393689,9392404,9393113,9391987,9392334,9392914,9392846,9398944,9393768,9459278,9393187,9392083,9392200,9429447,9393282,9459105,9391996,9392887,9392376,9392909,9392272,9393200,9392290,9393140,9393105,9393744,9393277,9393255,9392070,9391989,9392327,9391891,9392800,9392231,9586766,9459615,9392859,9459526,9393059,9392686,9391873,9393124,9429662,9392016,9392093,9393291,9392839,9392364,9392304,9391887,9392801,9392172,9417458,9586843,9393673,9392224,9391889,9392678,9393256,9392422,9392079,9392954,9393665,9393060,9391888,9392848,9393815,9398901,9391988,9393074,9586937,9391866,9392953,9392084,9392206,9392918,9398737,9393771,9391874,9429555,9392004,9393666,9392345,9392813,9392155,9393063,9391892,9392926,9392101,9392258,9393816,9417787,9392841,9393082,9391875,9429442,9398689,9392811,9417477,9586793,9393157,9392679,9392382,9391893,9392085,9429649,9392693,9392893,9392666,9392793,9392328,9392831,9391867,9393196,9398951,9392423,9392225,9393147,9393828,9398728,9398930,9391876,9392156,9392680,9417468,9393083,9392810,9393273,9391877,9398669,9392394,9393675,9393188,9392694,9392812,9392102,9391868,9392207,9392695,9393682,9392157,9397707,9398938,9392667,9459229,9391894,9429390,9393683,9392696,9393776,9417478,9392086,9393161,9392822,9391890,9393684,9393182,9392802,9430226,9392181,9398774,9392232,9393084,9391870,9459216,9393131,9392765,9392728,9392005,9392701,9393777,9391901,9392794,9397665,9393092,9398414,9430344,9392182,9391911,9393703,9391990,9392746,9393772,9392087,9417335,9459236,9392803,9393064,9391912,9393268,9393757,9392895,9392727,9430722,9392017,9429773,9393167,9392158,9391895,9393171,9392103,9393773,9392795,9393197,9392208,9393712,9459351,9392006,9391896,9397758,9398936,9397667,9393718,9417336,9392819,9392104,9391878,9397698,9393774,9392312,9391997,9393075,9397640,9398379,9393203,9392209,9391913,9392804,9393795,9393704,9392669,9392088,9392842,9392021,9392164,9391879,9397677,9398880,9459323,9393713,9393245,9393737,9398865,9459142,9391897,9392018,9392213,9398942,9392094,9392855,9392266,9417469,9392159,9393755,9391914,9459317,9459519,9393730,9391998,9393065,9586796,9430699,9391902,9393721,9392105,9393148,9586827,9392233,9393228,9459597,9392160,9392019,9391921,9393232,9398401,9417488,9392377,9430700,9459203,9392774,9391880,9392739,9398709,9392022,9397783,9459518,9393183,9393690,9392175,9397674,9429682,9392729,9392775,9392298,9392868,9393154,9392265,9392023,9392095,9393731,9393796,9393269,9392766,9429728,9392919,9393132,9393746,9392183,9392784,9417337,9392020,9393722,9398370,9397836,9392106,9430435,9392730,9392840,9392259,9393738,9430463,9391999,9393258,9392346,9392173,9392748,9393173,9417523,9459071,9392112,9392742,9393801,9430619,9392000,9393739,9392849,9397646,9393210,9393149,9393093,9391922,9392249,9392321,9392184,9392776,9397684,9392107,9392024,9430698,9392347,9392717,9391899,9392871,9393676,9417789,9393792,9430260,9430703,9392749,9393077,9392743,9391898,9392174,9392805,9392383,9392109,9393252,9397694,9392313,9392687,9392860,9391904,9392758,9430353,9392698,9392031,9392670,9392351,9393076,9417342,9393693,9391905,9392872,9392097,9392178,9393705,9392759,9393115,9417421,9392032,9391900,9417522,9397717,9392688,9393094,9392305,9392879,9430660,9393116,9391907,9392089,9393249,9392007,9393806,9392176,9392711,9392348,9397731,9391923,9392750,9392880,9392699,9392250,9392234,9393155,9392009,9392096,9391924,9393158,9392322,9392702,9392177,9392814,9393714,9398410,9393085,9391931,9393134,9392008,9586811,9429704,9393250,9392335,9393086,9393189,9391925,9393677,9397726";
//        String roomIds = "9417424";
        String[] list = roomIds.split(",");
        for (String s : list) {
            HttpClient client = new HttpClient();
            HttpMethod method = new GetMethod(String.format(getRoomUrl, s));
            method.getParams().setParameter(HttpMethodParams.HTTP_CONTENT_CHARSET, "UTF-8");
            try {
                client.executeMethod(method);
                String result = method.getResponseBodyAsString();
                System.out.println(result);
                JSONObject jsonObject = JSON.parseObject(result);
                if (jsonObject.getString("code").equals("0")){
                    String sessionId = jsonObject.getJSONObject("data").getString("sessionId");
                    closeSessionBySessionId(sessionId);
                }
            } catch (IOException e) {
                e.printStackTrace();
            } finally {
                method.releaseConnection();
            }
        }
    }

    public static void postMethod() {
        final String URL = "http://10.3.253.57:8084/services/orderlist/detailBatchQuery";
        final String param = "{\"tokenId\":\"7cf54f93ae171fa8d6a9c2ed4ac5c0e6\",\"requestBody\":{\"orderIds\":[1013038484499]},\"timestamp\":\"20200910211211150\"}";

        HttpClient client = new HttpClient();
        PostMethod method = new PostMethod(URL);
        try {
            RequestEntity se = new StringRequestEntity(param ,"application/json" ,"UTF-8");
            method.setRequestEntity(se);
            method.getParams().setParameter(HttpMethodParams.HTTP_CONTENT_CHARSET, "UTF-8");
            client.executeMethod(method);
            System.out.println(method.getResponseBodyAsString());
        } catch (IOException e) {
            e.printStackTrace();
        } finally {
            method.releaseConnection();
        }
    }


    public static void callFromFile(){
        String url = "http://10.0.2.45:8128/stock/passdownReply.json";
        String filename = "D:\\1.txt";
        try {
            InputStreamReader in = new InputStreamReader(new FileInputStream(filename), StandardCharsets.UTF_8);
            BufferedReader br=new BufferedReader(in);
            String temp=br.readLine();
            while(temp!=null){
                HttpClient client = new HttpClient();
                PostMethod method = new PostMethod(url);
                RequestEntity se = new StringRequestEntity(temp ,"application/json" ,"UTF-8");
                method.setRequestEntity(se);
                method.getParams().setParameter(HttpMethodParams.HTTP_CONTENT_CHARSET, "UTF-8");
                client.executeMethod(method);
                System.out.println(method.getResponseBodyAsString());

                temp=br.readLine();
            }
        } catch (IOException e) {
            e.printStackTrace();
        }

    }
}
